---
import ArticleCard from "@blog/ArticleCard.astro";
import type { ArticleGridProps } from "@types/blog";

const { articles, visibleCount = 3 }: ArticleGridProps = Astro.props;
const visibleArticles = articles.slice(0, visibleCount);
const hiddenArticles = articles.slice(visibleCount);
---

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" role="region" aria-label="Daftar artikel blog">
  {visibleArticles.map((post, index) => (
    <ArticleCard post={post} index={index} />
  ))}
  
  {hiddenArticles.map((post, index) => (
    <div class="hidden-article" style="display: none;">
      <ArticleCard post={post} index={index + visibleCount} />
    </div>
  ))}
</div>

<!-- Load More -->
<div class="text-center mt-16">
  <button 
    type="button" 
    class="font-black border-2 hover:scale-105 transition-transform inline-block text-center btn-accent px-6 py-3 text-base transform rotate-1 hover:rotate-0"
    id="loadMoreBtn"
    aria-label="Muat lebih banyak artikel blog"
  >
    ðŸ“š MUAT ARTIKEL LAINNYA
  </button>
</div>
