---
interface Props {
  title?: string;
  type?: 'info' | 'warning' | 'success' | 'tip';
}

const { title, type = 'info' } = Astro.props;

const icons = {
  info: 'üí°',
  warning: '‚ö†Ô∏è',
  success: '‚úÖ',
  tip: 'üí°'
};

const colors = {
  info: { bg: '#dbeafe', border: '#3b82f6', dark: '#1e3a5f' },
  warning: { bg: '#fef3c7', border: '#f59e0b', dark: '#78350f' },
  success: { bg: '#dcfce7', border: '#22c55e', dark: '#166534' },
  tip: { bg: '#f3e8ff', border: '#a855f7', dark: '#581c87' }
};
---

<div class={`callout callout-${type}`}>
  <span class="callout-icon">{icons[type]}</span>
  <div class="callout-content">
    {title && <strong class="callout-title">{title}</strong>}
    <slot />
  </div>
</div>

<style define:vars={{ bg: colors[type].bg, border: colors[type].border, dark: colors[type].dark }}>
  .callout {
    display: flex;
    gap: 0.75rem;
    padding: 1rem;
    border-left: 4px solid var(--border);
    background: var(--bg);
    border-radius: 0 0.5rem 0.5rem 0;
    margin: 1.5rem 0;
  }
  :global(.dark) .callout {
    background: var(--dark);
  }
  .callout-icon {
    font-size: 1.25rem;
    flex-shrink: 0;
  }
  .callout-content {
    flex: 1;
  }
  .callout-title {
    display: block;
    margin-bottom: 0.25rem;
  }
  .callout-content :global(p) {
    margin: 0;
  }
</style>
