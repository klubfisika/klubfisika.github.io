---
import PlatformLayout from '@layouts/PlatformLayout.astro';
import DiscussionList from '@components/qwik/DiscussionList.tsx';
import SidebarCard from '@components/platform/SidebarCard.astro';
import EmoticonLegend from '@components/platform/EmoticonLegend.astro';
import SearchBar from '@components/qwik/SearchBar.tsx';
---

<script>
  import { redirectIfGuest } from '../../../lib/router';
  redirectIfGuest();
</script>

<PlatformLayout title="Diskusi" activeNav="/platform/discussions">
  <DiscussionList client:load />

  <Fragment slot="sidebar">
    <SidebarCard title="Emoticon Forum">
      <EmoticonLegend limit={12} />
    </SidebarCard>
  </Fragment>
</PlatformLayout>
