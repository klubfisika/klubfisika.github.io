---
import "@/styles/main.css";
import BaseHead from "@components/BaseHead.astro";
import Navigation from "@components/Navigation.astro";
import Footer from "@sections/Footer.astro";
import FloatingActions from "@ui/FloatingActions.astro";
import BackToTop from "@ui/BackToTop.astro";
import TestingChecklist from "@ui/TestingChecklist.astro";
import ResponsiveTest from "@ui/ResponsiveTest.astro";

export interface Props {
    title: string;
    description: string;
    backToTopThreshold?: number;
}

const { title, description, backToTopThreshold = 300 } = Astro.props;
---

<!doctype html>
<html lang="id" class="scroll-smooth">
    <head>
        <BaseHead title={title} description={description} />
    </head>
    <body class="font-sans bg-surface dark:bg-surface-dark text-dark dark:text-light transition-colors">
        <!-- Skip Link -->
        <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-accent text-white px-4 py-2 rounded z-50">
            Skip to main content
        </a>
        
        <Navigation />
        <FloatingActions />
        <BackToTop 
            threshold={backToTopThreshold} 
            showReadingTime={Astro.url.pathname.startsWith('/blog/') && !Astro.url.pathname.endsWith('/blog')}
            articleSelector=".article-content"
        />
        
        <!-- Development Only Components -->
        {import.meta.env.DEV && (
            <>
                <TestingChecklist />
                <ResponsiveTest />
            </>
        )}
        
        <main id="main-content" class="pt-20">
            <slot />
        </main>
        
        <Footer />
    </body>
</html>
